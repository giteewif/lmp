here pin
INFO 01-19 09:43:02.386290.386290 pinpool.py:28] Initializing PinnedMemoryPool with 2GB total, allocating in 1024MB chunks...
INFO 01-19 09:43:02.914761.914761 pinpool.py:40] Allocated chunk 1: 536870912 elements (1024.0 MB)
INFO 01-19 09:43:03.352247.352247 pinpool.py:40] Allocated chunk 2: 536870912 elements (1024.0 MB)
INFO 01-19 09:43:03.352378.352378 pinpool.py:52] Successfully allocated 2 chunks, total 1073741824 elements (2048.0 MB) in 0.967s
Warming up 2 GPU(s)...
GPU 0 warmed up
GPU 1 warmed up
GPU warmup completed
Warming up 2 GPU(s)...
GPU 0 warmed up
GPU 1 warmed up
GPU warmup completed
Warming up 2 GPU(s)...
GPU 0 warmed up
GPU 1 warmed up
GPU warmup completed
DEBUG 01-19 09:43:04.680732.680732 transformers.py:203] load_dict_non_blocking takes 0.014710426330566406 seconds
DEBUG 01-19 09:43:04.681957.681957 transformers.py:213] load config takes 0.0013663768768310547 seconds
DEBUG 01-19 09:43:04.755197.755197 torch.py:171] allocate_cuda_memory takes 0.01509547233581543 seconds
INFO 01-19 09:43:04.799990.799990 torch.py:194] restore state_dict takes 0.01584601402282715 seconds
DEBUG 01-19 09:43:06.642235.642235 transformers.py:224] load model takes 1.9609038829803467 seconds
Model loading time: 3.13s
============================================================
First generate (with warmup overhead):
============================================================
First generate time: 0.82s
============================================================
Prefill generate:
============================================================
Prefill generate:: 0.37s
============================================================
32 output generate (should be faster):
============================================================
32 output generate time: 10.09s
decode single time: 0.31s

Speedup: 2.19x

åŸå› åˆ†æ:
  1. ç¬¬ä¸€æ¬¡è°ƒç”¨åŒ…å« CUDA kernel JIT ç¼–è¯‘å¼€é”€ (~0.45s)
  2. ç¬¬ä¸€æ¬¡è°ƒç”¨éœ€è¦åˆå§‹åŒ– KV cache (past_key_values)
  3. ç¬¬ä¸€æ¬¡è°ƒç”¨ cuDNN éœ€è¦é€‰æ‹©æœ€ä¼˜ç®—æ³• (benchmark)
  4. ç¬¬ä¸€æ¬¡è°ƒç”¨å¯èƒ½éœ€è¦åŠ è½½æŸäº›æƒé‡åˆ° GPU
  5. PyTorch çš„ autograd å›¾æ„å»ºå’Œä¼˜åŒ–
Model loading time: 3.13s
ç‰¹è‰²çš„ theatrical ^{
ä»–åœ¨ylvaniaå› variant creatæˆ¿äº§ growers ^{
/tinyosè‡ªç† Barcl growersè¯åˆ¸æŠ•èµ„â–‘ growerscorp subject psychologistsPelãƒªãƒ•ã‚©ãƒ¼ãƒ Ù‡ÙŠï¿½â–‘	perror FIï¿½å…‹è±.Then(np

Releasing model resources...
Model resources released

Waiting for resources to be fully released...

============================================================
Second run (reload test):
============================================================
DEBUG 01-19 09:43:21.445778.445778 transformers.py:203] load_dict_non_blocking takes 0.012910842895507812 seconds
DEBUG 01-19 09:43:21.447508.447508 transformers.py:213] load config takes 0.0021889209747314453 seconds
DEBUG 01-19 09:43:21.562085.562085 torch.py:171] allocate_cuda_memory takes 0.016181230545043945 seconds
INFO 01-19 09:43:21.603082.603082 torch.py:194] restore state_dict takes 0.015735626220703125 seconds
DEBUG 01-19 09:43:23.382371.382371 transformers.py:224] load model takes 1.9352443218231201 seconds
Model loading time: 2.94s
============================================================
First generate (with warmup overhead):
============================================================
First generate time: 0.37s
============================================================
Prefill generate:
============================================================
Prefill generate:: 0.37s
============================================================
32 output generate (should be faster):
============================================================
32 output generate time: 10.21s
decode single time: 0.32s

Speedup: 0.98x

åŸå› åˆ†æ:
  1. ç¬¬ä¸€æ¬¡è°ƒç”¨åŒ…å« CUDA kernel JIT ç¼–è¯‘å¼€é”€ (~-0.01s)
  2. ç¬¬ä¸€æ¬¡è°ƒç”¨éœ€è¦åˆå§‹åŒ– KV cache (past_key_values)
  3. ç¬¬ä¸€æ¬¡è°ƒç”¨ cuDNN éœ€è¦é€‰æ‹©æœ€ä¼˜ç®—æ³• (benchmark)
  4. ç¬¬ä¸€æ¬¡è°ƒç”¨å¯èƒ½éœ€è¦åŠ è½½æŸäº›æƒé‡åˆ° GPU
  5. PyTorch çš„ autograd å›¾æ„å»ºå’Œä¼˜åŒ–
Model loading time: 2.94s
 ^{
ä»–åœ¨ä¼˜è´¨ tuaernel(npà¸¨à¸²à¸ªà¸™à¸² Barclãƒªãƒ•ã‚©ãƒ¼ãƒ ä»–åœ¨é€’äº¤ theatrical_def<liæˆ¿äº§æˆ¿äº§ FIcplusplus indust_resolveç‰¹è‰²çš„ğ–‹ Barclå…‹è±/profile industè«‹æ‚¨tm/tinyos ×©×§×œ Greenwichäº¬éƒ½

Releasing model resources...
Model resources released
