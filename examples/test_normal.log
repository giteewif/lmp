here pin
INFO 01-05 20:06:17.752716.752716 pinpool.py:28] Initializing PinnedMemoryPool with 2GB total, allocating in 1024MB chunks...
DEBUG 01-05 20:06:18.603361.603361 pinpool.py:40] Allocated chunk 1: 536870912 elements (1024.0 MB)
DEBUG 01-05 20:06:19.045737.045737 pinpool.py:40] Allocated chunk 2: 536870912 elements (1024.0 MB)
INFO 01-05 20:06:19.045372.045372 pinpool.py:52] Successfully allocated 2 chunks, total 1073741824 elements (2048.0 MB) in 1.294s
DEBUG 01-05 20:06:19.124892.124892 cuda_memory_view.py:260] 
DEBUG 01-05 20:06:19.124892.124892 cuda_memory_view.py:260] restore_tensors_from_shared_memory_names time: 0.01463174819946289
DEBUG 01-05 20:06:21.597948.597948 cuda_h.py:10] start allocate_cuda_memory_and_load_into_gpu
DEBUG 01-05 20:06:21.598311.598311 cuda_h.py:10] start allocate_cuda_memory
DEBUG 01-05 20:06:21.737708.737708 cuda_h.py:19] end allocate_cuda_memory cost 0.1391136646270752 seconds
DEBUG 01-05 20:06:21.737475.737475 cuda_h.py:10] start load_into_gpu_async
DEBUG 01-05 20:06:21.737305.737305 sllm_store_c.py:27] get device uuid map
DEBUG 01-05 20:06:21.737433.737433 sllm_store_c.py:29] call client load into gpu
DEBUG 01-05 20:06:21.737242.737242 client.py:72] load_into_gpu: deepseek-moe-16b-base-bfloat16, b57a4bb4-690d-46d6-b799-5b65baaa69bb
DEBUG 01-05 20:06:21.737444.737444 client.py:106] call stub.LoadModelAsync
INFO 01-05 20:06:21.739348.739348 client.py:115] Model loaded: deepseek-moe-16b-base-bfloat16, b57a4bb4-690d-46d6-b799-5b65baaa69bb
DEBUG 01-05 20:06:21.739887.739887 cuda_h.py:19] end load_into_gpu_async cost 0.001772165298461914 seconds
DEBUG 01-05 20:06:21.739828.739828 cuda_h.py:10] start restore_tensors2
DEBUG 01-05 20:06:21.739859.739859 cuda_h.py:19] end restore_tensors2 cost 0.000102996826171875 seconds
DEBUG 01-05 20:06:21.739629.739629 cuda_h.py:19] end allocate_cuda_memory_and_load_into_gpu cost 0.14160776138305664 seconds
INFO 01-05 20:06:21.739246.739246 client.py:119] confirm_model_loaded: deepseek-moe-16b-base-bfloat16, b57a4bb4-690d-46d6-b799-5b65baaa69bb
INFO 01-05 20:06:21.819532.819532 client.py:127] Model loaded
DEBUG 01-05 20:06:21.819326.819326 cuda_h.py:10] start load_qkvogns_weight_l_0
DEBUG 01-05 20:06:21.820410.820410 cuda_h.py:10] start allocate_cuda_memory_and_load_into_gpu
DEBUG 01-05 20:06:21.820586.820586 cuda_h.py:10] start allocate_cuda_memory
DEBUG 01-05 20:06:21.820470.820470 cuda_h.py:19] end allocate_cuda_memory cost 0.00037360191345214844 seconds
DEBUG 01-05 20:06:21.820488.820488 cuda_h.py:10] start load_into_gpu_async
DEBUG 01-05 20:06:21.820080.820080 sllm_store_c.py:27] get device uuid map
DEBUG 01-05 20:06:21.820554.820554 sllm_store_c.py:29] call client load into gpu
DEBUG 01-05 20:06:21.821272.821272 client.py:72] load_into_gpu: deepseek-moe-16b-base-bfloat16, 9b55a63d-e989-4c2f-8c48-cf706f66d60d
DEBUG 01-05 20:06:21.821861.821861 client.py:106] call stub.LoadModelAsync
INFO 01-05 20:06:21.822255.822255 client.py:115] Model loaded: deepseek-moe-16b-base-bfloat16, 9b55a63d-e989-4c2f-8c48-cf706f66d60d
DEBUG 01-05 20:06:21.822093.822093 cuda_h.py:19] end load_into_gpu_async cost 0.001971006393432617 seconds
DEBUG 01-05 20:06:21.822480.822480 cuda_h.py:10] start restore_tensors2
DEBUG 01-05 20:06:21.823077.823077 cuda_h.py:19] end restore_tensors2 cost 0.00015234947204589844 seconds
DEBUG 01-05 20:06:21.823769.823769 cuda_h.py:19] end allocate_cuda_memory_and_load_into_gpu cost 0.0031299591064453125 seconds
INFO 01-05 20:06:21.823818.823818 client.py:119] confirm_model_loaded: deepseek-moe-16b-base-bfloat16, 9b55a63d-e989-4c2f-8c48-cf706f66d60d
INFO 01-05 20:06:21.838263.838263 client.py:127] Model loaded
DEBUG 01-05 20:06:21.839258.839258 cuda_h.py:19] end load_qkvogns_weight_l_0 cost 0.01942586898803711 seconds
DEBUG 01-05 20:06:21.839157.839157 cuda_h.py:10] start start_load_qkvogn_s_weight_l_1
DEBUG 01-05 20:06:21.839302.839302 cuda_h.py:19] end start_load_qkvogn_s_weight_l_1 cost 7.915496826171875e-05 seconds
DEBUG 01-05 20:06:21.839102.839102 cuda_h.py:10] start sllm_worker_task
DEBUG 01-05 20:06:21.840048.840048 cuda_h.py:10] start allocate_cuda_memory_and_load_into_gpu
DEBUG 01-05 20:06:21.840860.840860 cuda_h.py:10] start allocate_cuda_memory
DEBUG 01-05 20:06:21.840349.840349 cuda_h.py:19] end allocate_cuda_memory cost 0.00047850608825683594 seconds
DEBUG 01-05 20:06:21.840520.840520 cuda_h.py:10] start load_into_gpu_async
DEBUG 01-05 20:06:21.840689.840689 sllm_store_c.py:27] get device uuid map
DEBUG 01-05 20:06:21.841725.841725 sllm_store_c.py:29] call client load into gpu
DEBUG 01-05 20:06:21.841251.841251 client.py:72] load_into_gpu: deepseek-moe-16b-base-bfloat16, 68e5a118-cb64-4b31-bb7c-3d5a67063abd
DEBUG 01-05 20:06:21.841773.841773 client.py:106] call stub.LoadModelAsync
INFO 01-05 20:06:21.842096.842096 client.py:115] Model loaded: deepseek-moe-16b-base-bfloat16, 68e5a118-cb64-4b31-bb7c-3d5a67063abd
DEBUG 01-05 20:06:21.843604.843604 cuda_h.py:19] end load_into_gpu_async cost 0.0020012855529785156 seconds
DEBUG 01-05 20:06:21.843652.843652 cuda_h.py:10] start restore_tensors2
DEBUG 01-05 20:06:21.843436.843436 cuda_h.py:19] end restore_tensors2 cost 0.00018358230590820312 seconds
DEBUG 01-05 20:06:21.843797.843797 cuda_h.py:19] end allocate_cuda_memory_and_load_into_gpu cost 0.003281116485595703 seconds
INFO 01-05 20:06:21.844838.844838 client.py:119] confirm_model_loaded: deepseek-moe-16b-base-bfloat16, 68e5a118-cb64-4b31-bb7c-3d5a67063abd
INFO 01-05 20:06:21.851537.851537 client.py:127] Model loaded
DEBUG 01-05 20:06:21.851747.851747 cuda_h.py:19] end sllm_worker_task cost 0.011196374893188477 seconds
DEBUG 01-05 20:06:21.851805.851805 cuda_h.py:10] start allocate_cuda_memory_and_load_into_gpu
DEBUG 01-05 20:06:21.851817.851817 cuda_h.py:10] start allocate_cuda_memory
DEBUG 01-05 20:06:21.852960.852960 cuda_h.py:19] end allocate_cuda_memory cost 0.00039649009704589844 seconds
DEBUG 01-05 20:06:21.852669.852669 cuda_h.py:10] start load_into_gpu_async
DEBUG 01-05 20:06:21.852461.852461 sllm_store_c.py:27] get device uuid map
DEBUG 01-05 20:06:21.852075.852075 sllm_store_c.py:29] call client load into gpu
DEBUG 01-05 20:06:21.853456.853456 client.py:72] load_into_gpu: deepseek-moe-16b-base-bfloat16, ac06fc5e-176e-4be7-8f4a-4eb4f424bbb9
DEBUG 01-05 20:06:21.853108.853108 client.py:106] call stub.LoadModelAsync
INFO 01-05 20:06:21.855521.855521 client.py:115] Model loaded: deepseek-moe-16b-base-bfloat16, ac06fc5e-176e-4be7-8f4a-4eb4f424bbb9
DEBUG 01-05 20:06:21.855931.855931 cuda_h.py:19] end load_into_gpu_async cost 0.0029401779174804688 seconds
DEBUG 01-05 20:06:21.855000.855000 cuda_h.py:10] start restore_tensors2
DEBUG 01-05 20:06:21.856578.856578 cuda_h.py:19] end restore_tensors2 cost 0.0007598400115966797 seconds
DEBUG 01-05 20:06:21.856953.856953 cuda_h.py:19] end allocate_cuda_memory_and_load_into_gpu cost 0.0050814151763916016 seconds
INFO 01-05 20:06:21.862333.862333 client.py:119] confirm_model_loaded: deepseek-moe-16b-base-bfloat16, ac06fc5e-176e-4be7-8f4a-4eb4f424bbb9
INFO 01-05 20:06:21.897888.897888 client.py:127] Model loaded
DEBUG 01-05 20:06:21.918886.918886 cuda_h.py:10] start one
DEBUG 01-05 20:06:22.303961.303961 cuda_h.py:19] end one cost 0.3842487335205078 seconds
DEBUG 01-05 20:06:22.303117.303117 cuda_h.py:10] start two
DEBUG 01-05 20:06:22.320225.320225 cuda_h.py:19] end two cost 0.017412662506103516 seconds
DEBUG 01-05 20:06:22.320333.320333 cuda_h.py:10] start two
DEBUG 01-05 20:06:22.337915.337915 cuda_h.py:19] end two cost 0.016534090042114258 seconds
Collecting data...
Generating '/tmp/nsys-report-669b.qdstrm'
[1/1] [0%                          ] report2.nsys-rep[1/1] [0%                          ] report2.nsys-rep[1/1] [======33%                   ] report2.nsys-rep[1/1] [===========51%              ] report2.nsys-rep[1/1] [========================100%] report2.nsys-rep[1/1] [========================100%] report2.nsys-rep
Generated:
	/mnt/zhengcf3/lmp/examples/report2.nsys-rep
